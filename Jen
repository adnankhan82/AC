pipeline {
    agent any

stages {

stage ("Build") {

steps {

echo "Build the code using build automation tool Maven to compile and package the code "

 }

}

stage ("Unit & Integrating Testing") {

steps {

echo "Run uniit tests using PyUnit to ensure the code functions as expected and run integration tests using Cypress to ensure the different components of the application work together as expected"

}

post {

success {

 mail to: "dhani.gul@gmail.com",

 subject: "Completion of Test Stage",

body: " Successful"

}

 }

}

stage ("Code Analysis") {

 steps {

echo "Industry standard assurance of code was checked by using the tool SonarQube"

}

}

stage ("Security Scan") {

steps {

echo "Perform a Nessus security scan on the code for security vulnerabilities"

}




 post {

success {

mail to: "dhani.gul@gmail.com",

subject: "Completion of Security Scan ",

body: " Successfull"

}

}

 }

stage ("Deploy to Staging") {

steps {

echo "Deploy the application to the staging server - Azure Virtual Machines"

}

}

stage ("Integration Tests on Staging") {

steps {

echo "Run integration tests on the staging environment to ensure the application functions as expected in a production-like environment"

}

}

stage ("Deploy to Production") {

steps {

echo "Deploy the application to the production server - Azure Virtual Machines"

}

}

}

}